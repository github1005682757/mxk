<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>事件委托</title>
</head>
<body>
    <input type="button" value="添加" id="add" />
    <ul id="ul">
        <li>111</li>
        <li>222</li>
        <li>333</li>
        <li>444</li>
        <li>555</li>
    </ul>
    <h1>
        事件委托：利用冒泡的原理，把事件加到父级上，触发执行效果
    </h1>
    <pre>
        好处：
        1.提高性能
        2.新添加的元素也绑定有事件
    </pre>
    <script type="text/javascript">
        var oAdd = document.getElementById("add");
        var oUl = document.getElementById("ul");
        var oLi = document.getElementsByTagName("li");
        var iCurrent = 4;
        oAdd.onclick = function(){
            var oLi = document.createElement("li");
            iCurrent++;
            oLi.innerHTML = 111 * iCurrent;
            oUl.appendChild(oLi);
        };
        /*for(var i = 0, iLen = oLi.length; i < iLen; i++){
            oLi[i].onmouseover = function(){
                this.style.background = "red";
            };
            oLi[i].onmouseout = function(){
                this.style.background = "none";
            };
        }*/
        oUl.onmouseover = function(){
            /*event对象：
            事件源：不管在哪个事件中，只要你操作的那个元素就是事件源
            ie:window.event.srcElement
            标准下：event.target
            */
            var e = e || window.event;
            var oTarget = e.target || e.srcElement;
            if(oTarget.nodeName.toLowerCase() == "li"){
                oTarget.style.background = "red";
            }
        };

        oUl.onmouseout = function(){
            /*event对象：
             事件源：不管在哪个事件中，只要你操作的那个元素就是事件源
             ie:window.event.srcElement
             标准下：event.target
             */
            var e = e || window.event;
            var oTarget = e.target || e.srcElement;
            if(oTarget.nodeName.toLowerCase() == "li") {
                oTarget.style.background = "";
            }
        };
    </script>
</body>
</html>